"use strict";(self.webpackChunkEscuelaDS=self.webpackChunkEscuelaDS||[]).push([[991],{6991:(Nt,U,s)=>{s.r(U),s.d(U,{AdmonCapitanesRoutes:()=>xt});var t=s(4650),d=s(6895),m=s(5412),Z=s(9299),E=s(4514),x=s(8739),v=s(6308),T=s(3999),c=s(7155),N=s(3546),C=s(9549),b=s(4144),J=s(7392),I=s(266),h=s(4859),Q=s(3162);function y(a,o){1&a&&t._UZ(0,"mat-progress-bar",22)}function O(a,o){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Nombre"),t.qZA())}function P(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.nombres)}}function Y(a,o){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Apellido"),t.qZA())}function k(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.apellidos)}}function D(a,o){1&a&&(t.TgZ(0,"th",23),t._uU(1,"Pais"),t.qZA())}function F(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.Oqu(e.pais)}}function z(a,o){1&a&&(t.TgZ(0,"th",25),t._uU(1,"Tropa"),t.qZA())}function G(a,o){if(1&a&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.tropa," ")}}function L(a,o){1&a&&(t.TgZ(0,"th",25),t._uU(1,"Activo"),t.qZA())}const j=function(a,o){return{"text-success":a,"text-danger":o}};function R(a,o){if(1&a&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("ngClass",t.WLB(2,j,1===e.activo,0===e.activo)),t.xp6(1),t.hij(" ",1===e.activo?"Si":"No"," ")}}function $(a,o){1&a&&t._UZ(0,"th",27)}function B(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"td",24)(1,"mat-icon",28),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.AddEditPerson("editar",l))}),t._uU(2,"edit"),t.qZA(),t._uU(3,"| "),t.TgZ(4,"mat-icon",29),t.NdJ("click",function(){const l=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.deletePersona(l))}),t._uU(5,"delete"),t.qZA()()}}function w(a,o){1&a&&t._UZ(0,"tr",30)}function H(a,o){1&a&&t._UZ(0,"tr",31)}const V=function(){return["/Capitanes/addCapitan"]},W=function(){return[10,20,50,100]};let X=(()=>{class a{constructor(){this.dialog=(0,t.f3M)(m.uw),this.dialog_msg=(0,t.f3M)(m.uw),this._apiService=(0,t.f3M)(T.sM),this._dataService=(0,t.f3M)(T.gh),this._snackbarService=(0,t.f3M)(T.o),this.arrayInfo=[],this._tropas=[],this._paises=[],this._capitanes=[],this._capGeneral=[],this.loading=!1,this.horizontalPosition="start",this.verticalPosition="bottom",this.displayedColumns=["nombres","apellidos","pais","tropa","activo","acciones"],this.dataSource=new c.by}ngOnInit(){this.data$=this._dataService.sharingObservable,this._subcriptionList=this.data$.subscribe(e=>{this._tropas=e?.arrayData,this.idTropa=e?.idtropa}),this.getCapitanes()}getPaises(){this._apiService.getPaises().subscribe({next:e=>{this._paises=e},complete:()=>{this.getTropas()},error:e=>{console.log("Error",e)}})}getTropas(){this._apiService.getAdmonTropas().subscribe({next:e=>{this._tropas=e},complete:()=>{this.getCapGeneral()},error:e=>{console.log("Error",e)}})}getCapitanes(){this._apiService.getAdmonCapitanes().subscribe({next:e=>{this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},complete:()=>{this.getPaises()},error:e=>{console.log("error",e)}})}getCapGeneral(){this._apiService.getCapGeneral().subscribe({next:e=>{console.log("capgeneral",e),this._capGeneral=e},error:e=>{console.log("Error",e)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="Items por p\xe1gina"}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}AddEditPerson(e,n){this.arrayInfo=Object.assign({capitan:n,tropas:this._tropas,paises:this._paises,capgeneral:this._capGeneral}),this.dialog.open(ut,{data:{action:e,info:this.arrayInfo},width:"750px",disableClose:!0}).afterClosed().subscribe(l=>{"cancel"!==l.action&&(console.log("dato a actualizar",l),"editar"===l.action&&this.editCapitan(l.data.id,l.data))})}deletePersona(e){this.dialog_msg.open(K,{data:{action:"delete",info:{id:e.id,nombre:e.nombres}},width:"300px",minHeight:"160px",disableClose:!0}).afterClosed().subscribe(l=>{"cancel"!==l.action&&this._apiService.deleteCapitan(l.data).subscribe({next:p=>{this._snackbarService.openSnackBar(p.msg,"green"),this.getCapitanes()},error:p=>{console.log("Error",p),this._snackbarService.openSnackBar(p.msg,"red")}})})}editCapitan(e,n){this._apiService.updateCapitan(e,n).subscribe({next:r=>{this._snackbarService.openSnackBar(r.msg,"green"),this.getCapitanes()},error:r=>{console.log("Error",r),this._snackbarService.openSnackBar(r.msg,"red")}})}ngOnDestroy(){this._subcriptionList&&this._subcriptionList.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-admon-capitanes"]],viewQuery:function(e,n){if(1&e&&(t.Gf(x.NW,5),t.Gf(v.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first),t.iGM(r=t.CRH())&&(n.sort=r.first)}},standalone:!0,features:[t.jDz],decls:34,vars:8,consts:[["mode","indeterminate",4,"ngIf"],[1,"mat-elevation-z8"],[1,"container"],["matInput","","placeholder","Filtro","autocomplete","off",3,"keyup"],["input",""],["mat-raised-button","","color","primary",3,"routerLink"],[1,"scroll-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","nombres"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","apellidos"],["matColumnDef","pais"],["matColumnDef","tropa"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","activo"],["mat-cell","","class","text-center",3,"ngClass",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-cell","","style","min-width: 90px",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of users",3,"pageSizeOptions"],["mode","indeterminate"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"text-center",3,"ngClass"],["mat-header-cell","",2,"min-width","90px"],["matTooltip","Editar",1,"btnEdit",3,"click"],["matTooltip","Eliminar",1,"btnDelete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.YNc(0,y,1,0,"mat-progress-bar",0),t.TgZ(1,"mat-card",1)(2,"div",2)(3,"mat-card-content")(4,"mat-form-field")(5,"mat-label"),t._uU(6,"Filtro"),t.qZA(),t.TgZ(7,"input",3,4),t.NdJ("keyup",function(l){return n.applyFilter(l)}),t.qZA()(),t.TgZ(9,"button",5),t._uU(10," Agregar "),t.qZA(),t.TgZ(11,"div",6)(12,"table",7),t.ynx(13,8),t.YNc(14,O,2,0,"th",9),t.YNc(15,P,2,1,"td",10),t.BQk(),t.ynx(16,11),t.YNc(17,Y,2,0,"th",9),t.YNc(18,k,2,1,"td",10),t.BQk(),t.ynx(19,12),t.YNc(20,D,2,0,"th",9),t.YNc(21,F,2,1,"td",10),t.BQk(),t.ynx(22,13),t.YNc(23,z,2,0,"th",14),t.YNc(24,G,2,1,"td",10),t.BQk(),t.ynx(25,15),t.YNc(26,L,2,0,"th",14),t.YNc(27,R,2,5,"td",16),t.BQk(),t.ynx(28,17),t.YNc(29,$,1,0,"th",18),t.YNc(30,B,6,0,"td",10),t.BQk(),t.YNc(31,w,1,0,"tr",19),t.YNc(32,H,1,0,"tr",20),t.qZA(),t._UZ(33,"mat-paginator",21),t.qZA()()()()),2&e&&(t.Q6J("ngIf",n.loading),t.xp6(9),t.Q6J("routerLink",t.DdM(6,V)),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,W)))},dependencies:[d.ez,d.mk,d.O5,E.q,N.a8,N.dn,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,x.NW,v.YE,v.nU,C.KE,C.hX,b.Nt,J.Hw,I.gM,h.lW,Q.pW,Z.Bz,Z.rH,m.Is],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:80%;margin-right:10px}.btnEdit[_ngcontent-%COMP%], .btnDelete[_ngcontent-%COMP%]{cursor:pointer}.btnDelete[_ngcontent-%COMP%]{color:#b0304b}.btnEdit[_ngcontent-%COMP%]{color:#4b7bcd}.scroll-container[_ngcontent-%COMP%]{overflow:auto;background:#fff}"]}),a})(),K=(()=>{class a{constructor(e,n){this.dialogRef=e,this.data=n,this.actionProcess="",this._name="",console.log("Data en el Modal",n),this._name=n.info?.nombre}deletePerson(){this.dialogRef.close({action:this.actionProcess,data:this.data.info?.id})}cancelar(){this.dialogRef.close({action:"cancel"})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.so),t.Y36(m.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-alert-cap"]],standalone:!0,features:[t.jDz],decls:14,vars:1,consts:[["mat-dialog-title","",1,"text-center","bg-secondary","bg-opacity-10"],["mat-dialog-content","",1,"text-center","container"],[1,"text-danger"],["mat-dialog-actions",""],[1,"float-end","mt-4"],["mat-stroked-button","","mat-dialog-close","",1,"m-btncanel",3,"click"],["mat-stroked-button","","cdkFocusInitial","","color","warn",1,"m-btnaceptar",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1," Eliminaci\xf3n registro\n"),t.qZA(),t.TgZ(2,"div",1),t._uU(3," Desea eliminar a: "),t._UZ(4,"br"),t.TgZ(5,"span",2),t._uU(6),t.qZA(),t._uU(7,"?\n"),t.qZA(),t.TgZ(8,"div",3)(9,"div",4)(10,"button",5),t.NdJ("click",function(){return n.cancelar()}),t._uU(11," Cancel "),t.qZA(),t.TgZ(12,"button",6),t.NdJ("click",function(){return n.deletePerson()}),t._uU(13," Si "),t.qZA()()()),2&e&&(t.xp6(6),t.Oqu(n._name))},dependencies:[d.ez,h.ot,h.lW],styles:[".m-btnaceptar[_ngcontent-%COMP%], .m-btncanel[_ngcontent-%COMP%]{margin:0 15px}"]}),a})();var i=s(4006),M=s(9602),tt=s(782),A=s(4385),q=s(1948),S=s(3238);function et(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function at(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," El campo Nombre no debe superar los "),t.TgZ(2,"strong"),t._uU(3,"20 caracteres"),t.qZA()())}function nt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El apellido es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ot(a,o){if(1&a&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function it(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El pais es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function rt(a,o){if(1&a&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function st(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"La tropa es "),t.TgZ(2,"strong"),t._uU(3,"requerida"),t.qZA()())}function lt(a,o){if(1&a&&(t.TgZ(0,"mat-radio-button",23),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function pt(a,o){if(1&a&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function mt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El capit\xe1n es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ct(a,o){if(1&a&&(t.TgZ(0,"mat-option",23),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombres," ")}}function dt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El capit\xe1n es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}let ut=(()=>{class a{constructor(e){this.data=e,this.fb=(0,t.f3M)(i.qu),this.dialogRef=(0,t.f3M)(m.so),this.actionProcess="",this._paises=[],this._tropas=[],this._capitanes=[],this._capgeneral=[],this._estado=[{id:0,name:"No"},{id:1,name:"Si"}],this._diasoc=[{name:"Sin asignar"},{name:"Lunes"},{name:"Martes"},{name:"Mi\xe9rcoles"},{name:"Jueves"},{name:"Viernes"},{name:"S\xe1bado"},{name:"Domingo"}],console.log("data que se recibe",e),this.actionProcess=e.action,this._infoUpdate=Object.assign(e?.info.capitan),this._paises=e?.info.paises,this._tropas=e?.info.tropas,this._capgeneral=e?.info.capgeneral}ngOnInit(){this.initializeValidations()}initializeValidations(){this.form=this.fb.nonNullable.group({id:[null],nombres:["",[i.kI.required,i.kI.maxLength(20)]],apellidos:["",i.kI.required],pais:["",i.kI.required],tropa:["",i.kI.required],estado:["",i.kI.required],idcapgeneral:[null,i.kI.required],diasoc:[null,i.kI.required]}),this.form.setValue({id:this._infoUpdate.id??null,nombres:this._infoUpdate.nombres??"",apellidos:this._infoUpdate.apellidos??"",pais:this._infoUpdate.idpais??null,tropa:this._infoUpdate.idtropa??null,estado:this._infoUpdate.activo??"",idcapgeneral:this._infoUpdate.idcapgeneral??null,diasoc:this._infoUpdate.diasocializacion})}addEditPerson(){this.form.invalid||this.dialogRef.close({action:this.actionProcess,data:{id:this.form.value.id??null,nombres:this.form.value.nombres,apellidos:this.form.value.apellidos,idpais:this.form.value.pais,idtropa:this.form.value.tropa,idcgral:this.form.value.idcapgeneral,activo:this.form.value.estado,diasocializacion:this.form.value.diasoc}})}cancelar(){this.dialogRef.close({action:"cancel"})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-modal-capitan"]],standalone:!0,features:[t.jDz],decls:64,vars:13,consts:[["mat-dialog-title","",1,"text-center"],[3,"formGroup","ngSubmit"],[1,"mat-typography"],[1,"row"],[1,"col-4"],["formControlName","nombres","matInput","","placeholder","Ingrese Nombres","autocomplete","off"],[1,"error"],[4,"ngIf"],["formControlName","apellidos","matInput","","placeholder","Ingrese Apellidos","autocomplete","off"],["appearance","fill"],["formControlName","pais"],[3,"value",4,"ngFor","ngForOf"],[1,"col-3"],["formControlName","tropa"],[1,"mx-5"],[1,"mt-1"],["aria-label","Select an option","formControlName","estado"],[1,"col-6"],["formControlName","diasoc"],["formControlName","idcapgeneral"],["align","end",1,"m-buttons"],["type","button","mat-button","","color","warn",1,"m-btncancel",3,"click"],["type","submit","mat-button","","cdkFocusInitial","","color","primary",1,"m-btnaceptar"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Informaci\xf3n del capit\xe1n"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return n.addEditPerson()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"div",4)(6,"mat-form-field")(7,"mat-label"),t._uU(8,"Nombre"),t.qZA(),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,et,4,0,"span",7),t.YNc(12,at,4,0,"span",7),t.qZA()(),t.TgZ(13,"div",4)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Apellido"),t.qZA(),t._UZ(17,"input",8),t.qZA(),t.TgZ(18,"div",6),t.YNc(19,nt,4,0,"span",7),t.qZA()(),t.TgZ(20,"div",4)(21,"mat-form-field",9)(22,"mat-label"),t._uU(23,"Pais"),t.qZA(),t.TgZ(24,"mat-select",10),t.YNc(25,ot,2,2,"mat-option",11),t.qZA()(),t.TgZ(26,"div",6),t.YNc(27,it,4,0,"span",7),t.qZA()()(),t.TgZ(28,"div",3)(29,"div",12)(30,"mat-form-field",9)(31,"mat-label"),t._uU(32,"Tropa"),t.qZA(),t.TgZ(33,"mat-select",13),t.YNc(34,rt,2,2,"mat-option",11),t.qZA()(),t.TgZ(35,"div",6),t.YNc(36,st,4,0,"span",7),t.qZA()(),t.TgZ(37,"div",12)(38,"mat-label",14),t._uU(39,"Activo"),t.qZA(),t.TgZ(40,"div",15)(41,"mat-radio-group",16),t.YNc(42,lt,2,2,"mat-radio-button",11),t.qZA()()(),t.TgZ(43,"div",17)(44,"mat-form-field",9)(45,"mat-label"),t._uU(46,"D\xeda Socializaci\xf3n"),t.qZA(),t.TgZ(47,"mat-select",18),t.YNc(48,pt,2,2,"mat-option",11),t.qZA()(),t.TgZ(49,"div",6),t.YNc(50,mt,4,0,"span",7),t.qZA()(),t.TgZ(51,"div",17)(52,"mat-form-field",9)(53,"mat-label"),t._uU(54,"Capit\xe1n Gnral"),t.qZA(),t.TgZ(55,"mat-select",19),t.YNc(56,ct,2,2,"mat-option",11),t.qZA()(),t.TgZ(57,"div",6),t.YNc(58,dt,4,0,"span",7),t.qZA()()()(),t.TgZ(59,"mat-dialog-actions",20)(60,"button",21),t.NdJ("click",function(){return n.cancelar()}),t._uU(61," Cancelar "),t.qZA(),t.TgZ(62,"button",22),t._uU(63," Aceptar "),t.qZA()()()),2&e){let r,l,p,u,g,f,_;t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(9),t.Q6J("ngIf",(null==(r=n.form.get("nombres"))?null:r.hasError("required"))&&(null==(r=n.form.get("nombres"))?null:r.touched)),t.xp6(1),t.Q6J("ngIf",null==(l=n.form.get("nombres"))?null:l.hasError("maxlength")),t.xp6(7),t.Q6J("ngIf",(null==(p=n.form.get("apellidos"))?null:p.hasError("required"))&&(null==(p=n.form.get("apellidos"))?null:p.touched)),t.xp6(6),t.Q6J("ngForOf",n._paises),t.xp6(2),t.Q6J("ngIf",(null==(u=n.form.get("pais"))?null:u.hasError("required"))&&(null==(u=n.form.get("pais"))?null:u.touched)),t.xp6(7),t.Q6J("ngForOf",n._tropas),t.xp6(2),t.Q6J("ngIf",(null==(g=n.form.get("tropa"))?null:g.hasError("required"))&&(null==(g=n.form.get("tropa"))?null:g.touched)),t.xp6(6),t.Q6J("ngForOf",n._estado),t.xp6(6),t.Q6J("ngForOf",n._diasoc),t.xp6(2),t.Q6J("ngIf",(null==(f=n.form.get("diasoc"))?null:f.hasError("required"))&&(null==(f=n.form.get("diasoc"))?null:f.touched)),t.xp6(6),t.Q6J("ngForOf",n._capgeneral),t.xp6(2),t.Q6J("ngIf",(null==(_=n.form.get("capitan"))?null:_.hasError("required"))&&(null==(_=n.form.get("capitan"))?null:_.touched))}},dependencies:[d.ez,d.sg,d.O5,m.Is,m.uh,m.xY,m.H8,h.ot,h.lW,b.c,b.Nt,C.KE,C.hX,A.LD,A.gD,S.ey,M.FA,i.u5,i._Y,i.Fj,i.JJ,i.JL,i.UX,i.sg,i.u,tt.N6,q.Fk,q.VQ,q.U0],styles:[".mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:16px}.m-btnaceptar[_ngcontent-%COMP%], .m-btncancel[_ngcontent-%COMP%]{margin:0 15px}.error[_ngcontent-%COMP%]{color:#f44336;margin-top:-10px;font-size:14px}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;margin-right:10px}"]}),a})();function gt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ft(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1," El campo Nombre no debe superar los "),t.TgZ(2,"strong"),t._uU(3,"20 caracteres"),t.qZA()())}function _t(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El apellido es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function ht(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function Ct(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El pais es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Zt(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function Tt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"La tropa es "),t.TgZ(2,"strong"),t._uU(3,"requerida"),t.qZA()())}function bt(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombres," ")}}function At(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El capit\xe1n es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function vt(a,o){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function qt(a,o){1&a&&(t.TgZ(0,"span"),t._uU(1,"El pais es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}const Ut=function(){return["/Capitanes/Listado"]},xt=[{path:"Listado",title:"Listado Capitanes",component:X},{path:"addCapitan",title:"Agregar nuevo capit\xe1n",component:(()=>{class a{constructor(){this.fb=(0,t.f3M)(i.qu),this._apiService=(0,t.f3M)(T.sM),this._snackbarService=(0,t.f3M)(T.o),this._router=(0,t.f3M)(Z.F0),this._paises=[],this._tropas=[],this._capitanes=[],this._capGeneral=[],this._diasoc=[{name:"Sin asignar"},{name:"Lunes"},{name:"Martes"},{name:"Mi\xe9rcoles"},{name:"Jueves"},{name:"Viernes"},{name:"S\xe1bado"},{name:"Domingo"}]}ngOnInit(){this.initializeValidations(),this.getPaises()}initializeValidations(){this.form=this.fb.nonNullable.group({nombres:["",i.kI.required],apellidos:["",i.kI.required],idpais:["",i.kI.required],idtropa:["",i.kI.required],idcapgeneral:["",i.kI.required],diasoc:[null],activo:[null]})}getPaises(){this._apiService.getPaises().subscribe({next:e=>{this._paises=e},complete:()=>{this.getTropas()},error:e=>{console.log("Error",e)}})}getTropas(){this._apiService.getAdmonTropas().subscribe({next:e=>{this._tropas=e},complete:()=>{this.getCapitanes()},error:e=>{console.log("error",e)}})}getCapitanes(){this._apiService.getCapGeneral().subscribe({next:e=>{this._capGeneral=e},error:e=>{console.log("error",e)}})}addPerson(){this.form.controls.activo.setValue(1),this.form.invalid||this._apiService.addCapitan({activo:this.form.value.activo,apellidos:this.form.value.apellidos,nombres:this.form.value.nombres,idpais:this.form.value.idpais,idtropa:this.form.value.idtropa,idcgral:this.form.value.idcapgeneral,diasocializacion:this.form.value.diasoc.name}).subscribe({next:n=>{this._snackbarService.openSnackBar(n.msg,"green"),this._router.navigate(["/Capitanes/Listado"])},error:n=>{console.log("Error",n),this._snackbarService.openSnackBar(n.error,"red")}})}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-capitan"]],standalone:!0,features:[t.jDz],decls:58,vars:14,consts:[[1,"mt-4"],["mat-dialog-title","",1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-5"],["appearance","fill"],["formControlName","nombres","matInput","","placeholder","Ingrese Nombre","autocomplete","off"],[1,"error"],[4,"ngIf"],[1,"col-4"],["formControlName","apellidos","matInput","","placeholder","Ingrese Apellido","autocomplete","off"],[1,"col-3"],["formControlName","idpais"],[3,"value",4,"ngFor","ngForOf"],["formControlName","idtropa"],[1,"col-6"],["formControlName","idcapgeneral"],["formControlName","diasoc"],[1,"float-end","mt-4"],["type","button","mat-raised-button","",1,"m-btncanel",3,"routerLink"],["mat-raised-button","","color","primary","type","submit",1,"m-btnaceptar"],[3,"value"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Agregar un nuevo capit\xe1n"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return n.addPerson()}),t.TgZ(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Nombre"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",7),t.YNc(11,gt,4,0,"span",8),t.YNc(12,ft,4,0,"span",8),t.qZA()(),t.TgZ(13,"div",9)(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Apellido"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"div",7),t.YNc(19,_t,4,0,"span",8),t.qZA()(),t.TgZ(20,"div",11)(21,"mat-form-field",5)(22,"mat-label"),t._uU(23,"Pais"),t.qZA(),t.TgZ(24,"mat-select",12),t.YNc(25,ht,2,2,"mat-option",13),t.qZA()(),t.TgZ(26,"div",7),t.YNc(27,Ct,4,0,"span",8),t.qZA()()(),t.TgZ(28,"div",3)(29,"div",11)(30,"mat-form-field",5)(31,"mat-label"),t._uU(32,"Tropa"),t.qZA(),t.TgZ(33,"mat-select",14),t.YNc(34,Zt,2,2,"mat-option",13),t.qZA()(),t.TgZ(35,"div",7),t.YNc(36,Tt,4,0,"span",8),t.qZA()(),t.TgZ(37,"div",15)(38,"mat-form-field",5)(39,"mat-label"),t._uU(40,"Capit\xe1n General"),t.qZA(),t.TgZ(41,"mat-select",16),t.YNc(42,bt,2,2,"mat-option",13),t.qZA()(),t.TgZ(43,"div",7),t.YNc(44,At,4,0,"span",8),t.qZA()(),t.TgZ(45,"div",11)(46,"mat-form-field",5)(47,"mat-label"),t._uU(48,"D\xeda Socializaci\xf3n"),t.qZA(),t.TgZ(49,"mat-select",17),t.YNc(50,vt,2,2,"mat-option",13),t.qZA()(),t.TgZ(51,"div",7),t.YNc(52,qt,4,0,"span",8),t.qZA()()(),t.TgZ(53,"div",18)(54,"button",19),t._uU(55," Cancelar "),t.qZA(),t.TgZ(56,"button",20),t._uU(57," Guardar "),t.qZA()()()()),2&e){let r,l,p,u,g,f,_;t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(8),t.Q6J("ngIf",(null==(r=n.form.get("nombres"))?null:r.hasError("required"))&&(null==(r=n.form.get("nombres"))?null:r.touched)),t.xp6(1),t.Q6J("ngIf",null==(l=n.form.get("nombres"))?null:l.hasError("maxlength")),t.xp6(7),t.Q6J("ngIf",(null==(p=n.form.get("apellidos"))?null:p.hasError("required"))&&(null==(p=n.form.get("apellidos"))?null:p.touched)),t.xp6(6),t.Q6J("ngForOf",n._paises),t.xp6(2),t.Q6J("ngIf",(null==(u=n.form.get("idpais"))?null:u.hasError("required"))&&(null==(u=n.form.get("idpais"))?null:u.touched)),t.xp6(7),t.Q6J("ngForOf",n._tropas),t.xp6(2),t.Q6J("ngIf",(null==(g=n.form.get("idtropa"))?null:g.hasError("required"))&&(null==(g=n.form.get("idtropa"))?null:g.touched)),t.xp6(6),t.Q6J("ngForOf",n._capGeneral),t.xp6(2),t.Q6J("ngIf",(null==(f=n.form.get("idcapgeneral"))?null:f.hasError("required"))&&(null==(f=n.form.get("idcapgeneral"))?null:f.touched)),t.xp6(6),t.Q6J("ngForOf",n._diasoc),t.xp6(2),t.Q6J("ngIf",(null==(_=n.form.get("diasoc"))?null:_.hasError("required"))&&(null==(_=n.form.get("diasoc"))?null:_.touched)),t.xp6(2),t.Q6J("routerLink",t.DdM(13,Ut))}},dependencies:[d.ez,d.sg,d.O5,m.Is,m.uh,h.ot,h.lW,b.c,b.Nt,C.KE,C.hX,A.LD,A.gD,S.ey,M.FA,i.u5,i._Y,i.Fj,i.JJ,i.JL,i.UX,i.sg,i.u,Z.Bz,Z.rH],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;margin-right:10px}.error[_ngcontent-%COMP%]{color:#f44336;margin-top:-10px;font-size:14px}.m-btnaceptar[_ngcontent-%COMP%]{margin:0 15px}.m-btncanel[_ngcontent-%COMP%]{margin:0 30px}"]}),a})()}]}}]);